{"version":3,"file":"app-roll-dice-C9bCIu8_.js","sources":["../../src/pages/app-roll-dice.ts"],"sourcesContent":["import { LitElement, html, css } from 'lit';\nimport { customElement, state, query } from 'lit/decorators.js';\nimport { sharedStyles } from '../styles/shared-styles.js';\nimport { shoelaceStyles } from '../styles/shoelace-styles.js';\n\nimport '@shoelace-style/shoelace/dist/components/button/button.js';\nimport '@shoelace-style/shoelace/dist/components/card/card.js';\nimport '@shoelace-style/shoelace/dist/components/icon/icon.js';\nimport '@shoelace-style/shoelace/dist/components/badge/badge.js';\nimport '../components/navigation.js';\n\n@customElement('app-roll-dice')\nexport class AppRollDice extends LitElement {\n  @state() private result: number | null = null;\n  @state() private history: number[] = [];\n  @query('.result-display') private resultDisplay!: HTMLDivElement;\n\n  static styles = [\n    sharedStyles,\n    shoelaceStyles,\n    css`\n      main {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 1rem;\n        padding-bottom: 5rem; /* For navigation */\n      }\n      .result-display {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        font-size: 5rem;\n        font-weight: bold;\n        color: var(--sl-color-primary-600);\n        min-height: 6rem;\n        min-width: 6rem;\n        text-align: center;\n        border-radius: var(--sl-border-radius-x-large);\n        border: 1px solid var(--sl-color-neutral-300);\n      }\n\n      .result-display.animate {\n        animation: flipInX 0.8s;\n      }\n\n      @keyframes flipInX {\n        from {\n          transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n          animation-timing-function: ease-in;\n          opacity: 0;\n        }\n\n        40% {\n          transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n          animation-timing-function: ease-in;\n        }\n\n        60% {\n          transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\n          opacity: 1;\n        }\n\n        80% {\n          transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\n        }\n\n        to {\n          transform: perspective(400px);\n        }\n      }\n      .history-container {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 0.5rem;\n        justify-content: center;\n        margin-top: 1rem;\n        max-width: 100%;\n      }\n      .roll-button {\n        margin-top: 1rem;\n      }\n      sl-card {\n        width: 100%;\n        max-width: 600px;\n      }\n      sl-card::part(header) {\n        padding: var(--sl-spacing-small) var(--sl-spacing-medium);\n      }\n      sl-card::part(body) {\n        padding-top: var(--sl-spacing-medium);\n      }\n    `,\n  ];\n\n  connectedCallback() {\n    super.connectedCallback();\n    const storedHistory = localStorage.getItem('diceRollHistory');\n    if (storedHistory) {\n      this.history = JSON.parse(storedHistory);\n    }\n  }\n\n  private rollDice() {\n    this.result = Math.floor(Math.random() * 20) + 1;\n    // Keep history to a reasonable size, e.g., last 50 rolls\n    this.history = [this.result, ...this.history].slice(0, 50);\n    localStorage.setItem('diceRollHistory', JSON.stringify(this.history));\n\n    // Animate the result display\n    if (this.resultDisplay) {\n      this.resultDisplay.classList.add('animate');\n      this.resultDisplay.addEventListener('animationend', () => {\n        this.resultDisplay.classList.remove('animate');\n      }, { once: true });\n    }\n  }\n\n  private clearHistory() {\n    this.result = null;\n    this.history = [];\n    localStorage.removeItem('diceRollHistory');\n  }\n\n  render() {\n    return html`\n      <main>\n        <h1>Roll a D20</h1>\n        <div class=\"result-display\">${this.result !== null ? this.result : '?'}</div>\n        <sl-button variant=\"primary\" size=\"large\" @click=${this.rollDice} class=\"roll-button\">\n          <sl-icon src=\"/assets/svg/dice-d20-solid.svg\" slot=\"prefix\" style=\"fill: #fff;\"></sl-icon>\n          Roll Dice\n        </sl-button>\n\n        <sl-card>\n          <div slot=\"header\" class=\"display-flex\" style=\"align-items: center; justify-content: space-between;\">\n            <h3 style=\"margin: 0;\">History</h3>\n            <sl-button variant=\"danger\" outline size=\"small\" @click=${this.clearHistory} ?disabled=${this.history.length === 0}>\n              Clear History\n            </sl-button>\n          </div>\n          ${this.history.length > 0\n            ? html`\n              <div class=\"history-container\">\n                ${this.history.map((roll, index) => html`<sl-badge pill variant=${index === 0 ? 'success' : 'neutral'}>${roll}</sl-badge>`)}\n              </div>\n            `\n            : html`\n              <p class=\"text-center\">No rolls yet. Roll the dice to see history.</p>\n            `\n          }\n        </sl-card>\n      </main>\n      <app-navigation></app-navigation>\n      <style>\n        sl-badge::part(base) {\n          height: 2rem;\n          width: 2rem;\n        }\n      </style>\n    `;\n  }\n}\n"],"names":["AppRollDice","LitElement","storedHistory","html","roll","index","sharedStyles","shoelaceStyles","css","__decorateClass","state","query","customElement"],"mappings":"yRAYO,IAAMA,EAAN,cAA0BC,CAAW,CAArC,aAAA,CAAA,MAAA,GAAA,SAAA,EACI,KAAQ,OAAwB,KAChC,KAAQ,QAAoB,CAAA,CAAC,CAiFtC,mBAAoB,CAClB,MAAM,kBAAA,EACN,MAAMC,EAAgB,aAAa,QAAQ,iBAAiB,EACxDA,IACF,KAAK,QAAU,KAAK,MAAMA,CAAa,EACzC,CAGM,UAAW,CACjB,KAAK,OAAS,KAAK,MAAM,KAAK,OAAA,EAAW,EAAE,EAAI,EAE/C,KAAK,QAAU,CAAC,KAAK,OAAQ,GAAG,KAAK,OAAO,EAAE,MAAM,EAAG,EAAE,EACzD,aAAa,QAAQ,kBAAmB,KAAK,UAAU,KAAK,OAAO,CAAC,EAGhE,KAAK,gBACP,KAAK,cAAc,UAAU,IAAI,SAAS,EAC1C,KAAK,cAAc,iBAAiB,eAAgB,IAAM,CACxD,KAAK,cAAc,UAAU,OAAO,SAAS,CAAA,EAC5C,CAAE,KAAM,GAAM,EACnB,CAGM,cAAe,CACrB,KAAK,OAAS,KACd,KAAK,QAAU,CAAA,EACf,aAAa,WAAW,iBAAiB,CAAA,CAG3C,QAAS,CACP,OAAOC;AAAAA;AAAAA;AAAAA,sCAG2B,KAAK,SAAW,KAAO,KAAK,OAAS,GAAG;AAAA,2DACnB,KAAK,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sEAQF,KAAK,YAAY,cAAc,KAAK,QAAQ,SAAW,CAAC;AAAA;AAAA;AAAA;AAAA,YAIlH,KAAK,QAAQ,OAAS,EACpBA;AAAAA;AAAAA,kBAEI,KAAK,QAAQ,IAAI,CAACC,EAAMC,IAAUF,2BAA8BE,IAAU,EAAI,UAAY,SAAS,IAAID,CAAI,aAAa,CAAC;AAAA;AAAA,cAG7HD;AAAAA;AAAAA,aAGJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,CAYV,EAtJaH,EAKJ,OAAS,CACdM,EACAC,EACAC;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,KAyEF,EAhFiBC,EAAA,CAAhBC,EAAA,CAAM,EADIV,EACM,UAAA,SAAA,CAAA,EACAS,EAAA,CAAhBC,EAAA,CAAM,EAFIV,EAEM,UAAA,UAAA,CAAA,EACiBS,EAAA,CAAjCE,EAAM,iBAAiB,CAAA,EAHbX,EAGuB,UAAA,gBAAA,CAAA,EAHvBA,EAANS,EAAA,CADNG,EAAc,eAAe,CAAA,EACjBZ,CAAA"}